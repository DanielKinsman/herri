<html>
    <head>
        <!--Meta Data-->
	<meta charset="utf-8">
	<meta name="author" content="Ben Specht">
	<meta name="copyright" content="2014 Ben Specht">
	<link rel="stylesheet" href="bootstrap/css/bootstrap.css" />
	<link rel="stylesheet" href="models.css" />
	<script type="text/javascript" src="jquery-2.1.1.js"></script>
	<title>
		Leaflet Testing
	</title>
    </head>
    
    <body>
	
		<div id="content">
		
		</div>
	
		<script>
			/*var maps = [
				{
					"pk": 1, 
					"model": "api.attributemodel", 
					"fields":   {
									"weightings": [1], 
									"user": 1, 
									"name": "Basic population model", 
									"description": "Gives a weighting which is 90% of population"
								}
				},
				{
					"name": "TestName2",
					"description": "TestDescription2"
				},
				{
					"name": "TestName3",
					"description": "TestDescription3"
				},
				{
					"name": "TestName4",
					"description": "TestDescritption4"
				},
				{
					"name": "TestName5",
					"description": "TestDescription5"
				},
				{
					"name": "TestName6",
					"description": "TestDescription6"
				},
				{
					"name": "TestName7",
					"description": "TestDescription7"
				},
				{
					"name": "TestName8",
					"description": "TestDescription8"
				},
				{
					"name": "TestName9",
					"description": "TestDescription9"
				},
				{
					"name": "TestName10",
					"description": "TestDescription10"
				},
				{
					"name": "TestName11",
					"description": "TestDescription11"
				},
				{
					"name": "TestName12",
					"description": "TestDescription12"
				}
			];*/
			
			$.getJSON( 'http://herri.serwylo.com/api/attribute_models', function( data ){ 
					
					var rowStart = "<div class='row'>";
					var rowEnd   = "</div>";
					
					var content = document.getElementById( 'content' );
					
					var row = document.createElement( 'div' );
					row.className = 'row';
					
					for (i = 0; i < data.length; i++) {
						if ( i > 0 && i % 3 == 0 ) {
							content.appendChild( row );
							row = document.createELement( "div" );
							row.className = 'row';
						}
						
						var panel = document.createElement( 'a' );
						var link = "http://herri.serwylo.com/model/" + data[i].pk;
						panel.setAttribute('href', link);
						panel.className = 'col-md-3';
						panel.innerHTML = 
							'<div class="panel panel-default panelList">' +
								'<div class="panel-body"><h3>' + 
									data[i].fields.name + 
									'</h3></br>' + 
									data[i].fields.description + 
								'</div>' + 
							'</div>';
						row.appendChild( panel );
					};
					content.appendChild( row );
				}
			);
		</script>
    </body>    

</html>